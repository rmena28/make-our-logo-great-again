(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{32:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a,c=n(0),o=n.n(c),i=n(11),r=n.n(i),l=n(2),s=n(10),d=n(5);!function(e){e.SET_USER="SET_USER"}(a||(a={}));var u,m=a,j=(n(32),n(1)),g=function(){var e=Object(l.f)(),t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(d.b)(),r=Object(c.useState)(!0),u=Object(s.a)(r,2);u[0],u[1];return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h5",{className:"title",children:"Hello friend, tell me your name..."}),Object(j.jsx)("input",{className:"input",type:"text",onChange:function(e){var t=e.currentTarget.value;t&&""!==t&&o(e.currentTarget.value)},placeholder:"Your name here"}),Object(j.jsx)("button",{className:"button",onClick:function(t){var n;i((n=a,{type:m.SET_USER,payload:n})),e.push("/game")},children:"Let's go"})]})},b=n(13),v=n(4);!function(e){e.SET_START="SET_START",e.SET_WRONG_PLACEMENT="SET_WRONG_PLACEMENT",e.SET_RESTART="SET_RESTART",e.SET_GAME_ENDED="SET_GAME_ENDED"}(u||(u={}));var f=u,O=function(){return{type:f.SET_WRONG_PLACEMENT}},h=(n(36),n(37),function(e){var t,n,a,c,o,i=e.containerInformation,r=e.onDragStart;return Object(j.jsx)("div",{draggable:!0,onDragStart:r,onDragEnd:function(e){return e.stopPropagation()},className:"card",children:(null===i||void 0===i||null===(t=i.image)||void 0===t?void 0:t.logo)&&""!==(null===i||void 0===i||null===(n=i.image)||void 0===n?void 0:n.logo)?Object(j.jsx)("img",{className:"image",id:(null===i||void 0===i||null===(a=i.image)||void 0===a?void 0:a.id)||"".concat(i.htmlId,"-img"),alt:(null===(c=i.image)||void 0===c?void 0:c.logo)||"image",src:null===i||void 0===i||null===(o=i.image)||void 0===o?void 0:o.logo}):null})}),p=function(e){var t,n,a,o=e.containerInformation,i=e.onItemDragged,r=Object(c.useRef)(null),l=Object(d.c)((function(e){return e.game})).started,s=Object(d.b)();return Object(j.jsx)("div",{ref:r,id:o.htmlId,className:"card-holder ".concat((null===o||void 0===o||null===(t=o.image)||void 0===t?void 0:t.logo)||"destination"!==o.type?null:"card-holder-empty"),onDrop:function(e){var t;if(e.stopPropagation(),e.preventDefault(),!(o.htmlId.indexOf("source")>-1))try{var n,a;if("source"===(t=JSON.parse((null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("originInformation"))||"")).type&&(null===(a=o.image)||void 0===a?void 0:a.logo))return;i(t.htmlId,o.htmlId)}catch(c){console.log(c)}},onDragOver:function(e){return e.preventDefault()},children:(null===o||void 0===o||null===(n=o.image)||void 0===n?void 0:n.logo)&&""!==(null===o||void 0===o||null===(a=o.image)||void 0===a?void 0:a.logo)?Object(j.jsx)(h,{containerInformation:o,onDragStart:function(e){var t,n;l||s({type:f.SET_START}),null===(t=e.dataTransfer)||void 0===t||t.clearData(),null===(n=e.dataTransfer)||void 0===n||n.setData("originInformation",JSON.stringify(o))}}):null})},E=o.a.memo(p),T=(n(38),function(e){var t=e.items,n=e.onItemDragged;return Object(j.jsx)("div",{className:"list",children:t.map((function(e,t){return Object(j.jsx)(E,{onItemDragged:n,containerInformation:e},e.htmlId)}))})}),x=o.a.memo(T),S=n.p+"static/media/zoovu-o.7105c72a.svg",y=n.p+"static/media/zoovu-u.ab636cad.svg",I=n.p+"static/media/zoovu-v.82f0d0a7.svg",N=n.p+"static/media/zoovu-z.045ec7e2.svg";n(39);var _=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.game})).gameEnded,n=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)([]),r=Object(s.a)(i,2),l=r[0],d=r[1];return console.log("Game ended",e),Object(c.useEffect)((function(){if(!e){console.log("Game ended here");var t=(n=[{htmlId:"source-1",id:1,type:"source",image:{key:1,id:"logo-1",logo:N}},{htmlId:"source-2",id:2,type:"source",image:{key:2,id:"logo-2",logo:S}},{htmlId:"source-3",id:3,type:"source",image:{key:3,id:"logo-3",logo:S}},{htmlId:"source-4",id:4,type:"source",image:{key:4,id:"logo-4",logo:I}},{htmlId:"source-5",id:5,type:"source",image:{key:5,id:"logo-5",logo:y}}],Object(b.a)(n.sort((function(){return Math.random()-.5}))));o(t),d([].concat([{id:1,htmlId:"empty-1-z",type:"destination"},{id:2,htmlId:"empty-2-o",type:"destination"},{id:3,htmlId:"empty-3-o",type:"destination"},{id:4,htmlId:"empty-4-v",type:"destination"},{id:5,htmlId:"empty-5-u",type:"destination"}]))}var n}),[e]),{source:a,setSource:o,destination:l,setDestination:d}}(void 0!==t&&t),a=n.source,o=n.setSource,i=n.destination,r=n.setDestination;Object(c.useEffect)((function(){i&&(5===i.filter((function(e){var t,n,a;return 2===e.id||3===e.id?2===(null===(t=e.image)||void 0===t?void 0:t.key)||3===(null===(n=e.image)||void 0===n?void 0:n.key):e.id===(null===(a=e.image)||void 0===a?void 0:a.key)})).length&&e({type:f.SET_GAME_ENDED}));return function(){}}),[i]);var l=function(t,n){if(t!==n){var c,l=a.findIndex((function(e){return e.htmlId===t}));c=l>-1;var s=i.findIndex((function(e){return e.htmlId===n}));if(c){var d=Object(v.a)({},a[l].image),m=Object(v.a)({},i[s].image);r((function(e){var t=Object(b.a)(e);return t[s].image=d,t})),(null===d||void 0===d?void 0:d.key)&&(u(d.key,s)||e(O())),o((function(e){var t=Object(b.a)(e);return t[l].image=m,t}))}else{l=i.findIndex((function(e){return e.htmlId===t}));var j=Object(v.a)({},i[l].image),g=Object(v.a)({},i[s].image);(null===j||void 0===j?void 0:j.key)&&(u(j.key,s)||e(O())),r((function(e){var t=Object(b.a)(e);return t[s].image=j,t[l].image=g,t}))}}},u=function(e,t){return 2===i[t].id||3===i[t].id?2===e||3===e:i[t].id===e};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"label-message",children:"pick an item from here"}),Object(j.jsx)(x,{onItemDragged:l,items:a}),Object(j.jsx)("label",{className:"label-message",children:"Then drag it here"}),Object(j.jsx)(x,{onItemDragged:l,items:i})]})},D=(n(40),function(e){var t=e.open,n=e.onClose,a=e.title,o=(e.message,e.children),i=Object(c.useState)(),r=Object(s.a)(i,2),l=r[0],d=r[1];return Object(c.useEffect)((function(){if(t){var e=setTimeout((function(){n()}),1e4);d(e)}else clearTimeout(l);return function(){l&&clearTimeout(l)}}),[t]),Object(j.jsx)(j.Fragment,{children:t?Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("label",{children:a})}),Object(j.jsx)("div",{className:"modal-content",children:o}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("button",{onClick:function(){n()},className:"button",children:"Close"})})]}):null})}),R=(n(41),document.getElementById("modal-dialog")),k=function(){var e=Object(d.c)((function(e){return e.user.name})),t=Object(d.c)((function(e){return e.game})),n=t.started,a=t.wrongPlacement,o=t.gameEnded,i=Object(c.useState)(0),l=Object(s.a)(i,2),u=l[0],m=l[1],g=Object(c.useState)(),b=Object(s.a)(g,2),v=b[0],O=b[1],h=Object(d.b)();Object(c.useEffect)((function(){if(n){if(!v){var e=setInterval((function(){m((function(e){return e+1}))}),1e3);O(e)}}else if(v)try{clearInterval(v)}catch(t){}return function(){try{clearInterval(undefined)}catch(t){}}}),[n,v]),Object(c.useEffect)((function(){a>0&&m((function(e){return e+10}))}),[a]);var p=function(){h({type:f.SET_RESTART}),m(0),O(null)};return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("label",{className:"name",children:["Good luck, ",e]}),Object(j.jsxs)("div",{className:"timer",children:["Your score: ",u," seconds"]}),R?r.a.createPortal(Object(j.jsx)(D,{title:"Congratulations!!",open:void 0!==o&&o||!1,onClose:function(){return p()},children:Object(j.jsxs)("div",{className:"message-container",children:[Object(j.jsx)("label",{children:"You have made our logo great again!"}),Object(j.jsxs)("label",{className:"score",children:["Score: ",u," seconds"]})]})}),R):null]})},A=(n(42),function(){var e=Object(l.f)(),t=Object(d.c)((function(e){return e.user.name}));return Object(c.useEffect)((function(){t||e.push("/")}),[t,e]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(k,{}),Object(j.jsx)(_,{})]})})}),C=n(14);var G={started:!1,wrongPlacement:0};var P=Object(C.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SET_USER:return Object(v.a)(Object(v.a)({},e),{},{name:t.payload});default:return Object(v.a)({},e)}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_START:return Object(v.a)(Object(v.a)({},e),{},{started:!0,gameEnded:!1});case f.SET_WRONG_PLACEMENT:return Object(v.a)(Object(v.a)({},e),{},{wrongPlacement:e.wrongPlacement+1});case f.SET_RESTART:return Object(v.a)({},G);case f.SET_GAME_ENDED:return Object(v.a)(Object(v.a)({},e),{},{gameEnded:!0,started:!1});default:return Object(v.a)({},e)}}}),M=n(23),w=Object(C.createStore)(P,Object(M.composeWithDevTools)());n(43);var z=function(){return Object(j.jsx)(d.a,{store:w,children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",exact:!0,component:g}),Object(j.jsx)(l.a,{path:"/start",exact:!0,component:g}),Object(j.jsx)(l.a,{path:"/game",exact:!0,component:A})]})})},L=n(24);r.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(L.a,{children:Object(j.jsx)(z,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.5f74b281.chunk.js.map